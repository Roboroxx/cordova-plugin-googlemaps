<div class="container">
  <div class="description">
    <strong>Step9: Load data from KML file</strong>
    <p>PhoneGap-GoogleMaps-Plugin has original KML parser. You can load your KML file.</p>
    
    <pre class="prettyprint lang-js">
map.addKmlOverlay({
  'url': "www/kml/shizuoka.kml"
}, onKmlAdded);

function onKmlAdded(kmlOverlay) {
  map.animateCamera({
    target: new plugin.google.maps.LatLng(34.795338,138.179594),
    zoom: 9
  }, onCameraUpdated);
}
</pre>
<button id="nextBtn">Execute &amp; next</button>
  </div>
  
</div>
<script type="text/javascript">
$(document).one("pageLoad", function(evt) {
  map.setDiv($("#map_canvas")[0]);
  
  $("#nextBtn").one("touchStart click", function() {
    
    $(".container").addClass("animated zoomOutUp");
    $(".container").one('webkitAnimationEnd animationend', function() {
      $(".container").remove();
      
      map.addKmlOverlay({
        'url': "www/kml/shizuoka.kml"
      }, onKmlAdded);
      
      function onKmlAdded(kmlOverlay) {
        map.animateCamera({
          target: new plugin.google.maps.LatLng(34.795338,138.179594),
          zoom: 9
        }, onCameraUpdated);
      }

      function onCameraUpdated() {
        setTimeout(function() {
          loadPage("step10");
        }, 6000);
      }
    });
    
  });
  
});
</script>