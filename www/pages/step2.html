<div class="container">
  <div class="description">
    <strong>Step2: Get your location</strong>
    <p>PhoneGap-GoogleMaps-Plugin allows you to get the device location easily.<br>
      Please enable location feature before execute this.</p>
    
    <pre class="prettyprint lang-js">
map.getMyLocation(onLocationSuccess, onLocationError);

function onLocationSuccess( result ) {
    alert(JSON.stringify( result, null, 4 ));
}
function onLocationError( error_obj ) {
    alert("Because of the plugin could not get your location, set California as your location");
}
</pre>
<button id="nextBtn">Execute &amp; next</button>
  </div>
  
</div>
<script type="text/javascript">
$(document).one("pageLoad", function() {
  map.setDiv($("#map_canvas")[0]);
  
  $("#nextBtn").one("touchStart click", function() {
    var next = function(params) {
      $(".container").addClass("animated lightSpeedOut");
      $(".container").one('webkitAnimationEnd animationend', function() {
        $(".container").remove();
        setTimeout(function() {
          loadPage("step3", params);
        }, 5000);
      });
    };
    var option = {
      enableHighAccuracy: true
    };
    map.getMyLocation(option, function(result) {
      alert(JSON.stringify( result, null, 4 ));
      next(result);
    }, function(error_obj) {
      alert("Because of the plugin could not get your location, set California as your location");
      next({
        latLng: {
          lat: 37.422488,
          lng: -122.08422
        }
      });
    });
    
  });
});
</script>