<h3 class="ui-bar ui-bar-a">Create map from KML</h3>
<div id="map_canvas"></div>
<div data-role="tabs" id="tabs">
  <div data-role="navbar">
    <ul>
      <li><a id="marker" href="#one" data-ajax="false">Marker</a></li>
      <li><a id="polyline" href="#two" data-ajax="false">Polyline</a></li>
      <li><a id="polygon" href="#three" data-ajax="false">Polygon</a></li>
    </ul>
  </div>
  <div id="one" class="ui-body-d ui-content">
    <h1>First tab contents</h1>
  </div>
  <div id="two">
    <h1>First tab contents</h1>
  </div>
  <div id="three" class="ui-body-d ui-content">
    <h1>First tab contents</h1>
  </div>
</div>
<script type="text/javascript">

function onPageLoaded(map) {
  map.setDiv($("#map_canvas")[0]);
  $("#polyline").click(function() {
    loadKml(map, "www/kml/polyline.kml");
  });
  $("#marker").click(function() {
    loadKml(map, "www/kml/marker.kml");
  });
  $("#polygon").click(function() {
    loadKml(map, "www/kml/polygon.kml");
  });
}
function loadKml(map, url) {
  map.clear();
  map.setZoom(0);

  //Load the kml file
  map.addKmlOverlay({
    url: url
  }, function(kmlLayer) {
    
  });
}
</script>
